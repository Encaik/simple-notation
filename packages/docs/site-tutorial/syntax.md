# 语法教程

本页面详细介绍简音创作网站及 SimpleNotation 库支持的乐谱和歌词语法，帮助用户快速上手记谱和编写歌词。

## 1. 简谱编写语法

简谱主要由音符、时值、连音线、小节线和休止符等元素组成。以下是详细规则：

### 1.1 音符

- 使用 1-7 表示音阶，0 表示休止符。
- 示例：

```
1 2 3 4 5 6 7 0
```

### 1.2 时值

- 使用 `/` 后跟数字表示音符时值，如 `/2` 表示二分音符，`/8` 表示八分音符。若不指定，默认四分音符。
- 示例：

```
1/2 2/4 3/8 4/16 5/32
```

### 1.3 附点

- 使用 `.` 表示附点，附点加在时值后，如 `/2.` 表示附点二分音符。
- 示例：

```
1/2. 2/4. 3/8. 4/16.
```

### 1.4 小节线

- 使用 `|` 分隔不同小节，换行默认新小节。
- 示例：

```
1 2 | 3 4
5 6 7 | 1
```

### 1.5 延长音

- 使用 `-` 表示延长音。
- 示例：

```
1 - - - | 2 - | 3
```

### 1.6 升降号

- `#` 表示升号，`b` 表示降号，支持重升重降。
- 示例：

```
#1 b2 ##3 bb4
```

### 1.7 八度升降

- `^` 表示升八度，`_` 表示降八度，数量表示倍数。
- 示例：

```
1^ 2_ 3^^ 4__
```

### 1.8 括号

- 用于分组特殊音符组合，常用于前奏、间奏等部分标记。
- 示例：

```
(3,4) (1,5)
```

### 1.9 连音线

- 方括号 `[` `]` 表示连音线包裹的音符。
- 示例：

```
[3,4,5] [1,2]
```

### 1.10 装饰音

- 尖括号 `< >` 表示装饰音，括号内逗号分隔。
- 示例：

```
<#2,2>3 <1>2
```

### 1.11 和弦符号

- 在音符上方加和弦标记（如 `{C}`），支持常见和弦与数字和弦。
- 示例：

```
{C}1 {Am}2 {5}3
```

### 1.12 重复记号

- 小节线旁用 `:` 表示重复，`|:` 开始，`:|` 结束。
- 示例：

```
|: 1 2 | 3 4 :|
```

### 综合示例

```
<#2,2>3/8^^,b5/16_,(6,5)]|6,6,5,-|4,4,3,3
2,2,1,-|5,5,4,4|3,3,2,-
```

## 2. 歌词编写语法

歌词可以包含多行，每行对应简谱中的一个乐句。歌词中的换行和多余空格会被自动处理，可以自由排版。

#### 跳过音符

- 歌词中 `-` 代表跳过当前音符，不为其分配歌词。
- 示例：

```
歌词-跳过
```

#### 括号

- 歌词中用 `()` 或 `（）` 包裹内容，视为整体与一个音符对应，支持中英文括号。
- 示例：

```
中文（括号） english(brackets)
```

#### 竖排多行歌词

- `[数字.内容]` 格式可编写竖排多行歌词，数字为行号，内容为歌词片段。连续块合并为竖排歌词单元。
- 示例：

```
[1.红][2.黄][3.蓝]
[1.你好][2.世界]
```

#### 歌词综合示例

```
一闪一闪亮晶晶-
满天都是小星星-
```

## 3. 进阶用法

- 支持自定义符号映射，可在设置中调整。
- 支持力度、速度、反复等常用音乐记号，如 `f`（强）、`p`（弱）、`rit.`（渐慢）等。

## 4. 更多

- 详细语法和进阶用法请参考 [SimpleNotation 库文档](https://www.npmjs.com/package/simple-notation)。
- 如有疑问可在[项目仓库](https://github.com/Encaik/simple-notation)提交 issue。
