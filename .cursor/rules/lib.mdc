---
description: 用于开发库代码逻辑的规则
globs: ['packages/simple-notation/**/*.ts']
alwaysApply: true
---

# 代码规则

## 代码风格

- 代码要保证复杂度不过高，避免嵌套过深和重复
- 近似代码要保持风格一致，避免命名或逻辑差异

## 注释风格

- 避免冗余解析，只保留代码逻辑注释

## 模块划分

- 模块划分要保持一致，避免命名或逻辑差异
- 当代码过于复杂时，应该提取逻辑，封装为独立模块
- 数据层（data目录）要尽可能保证不干涉布局，不干涉渲染，只负责解析和数据处理
- 布局层（layout目录）要尽可能保证不干涉数据，是基于数据进行布局计算，并且不侵入渲染
- 布局层一定要注意是自底向上构建
- 渲染层（render目录）要尽可能保证不干涉数据和布局，基于布局层进行渲染，基于数据层进行显示

## 工作习惯

- 除非明确要求，否则不需要输出md文档
